summ = 0;
for a=1:4
    for b=1:4
        for c=1:4
            summ = summ + salman(a,b,c,0.85)
        end
    end
end

function prob = beamsplitter(a1,a2,a3,t)
vec = [0,0,0,0,0,-((-1 + t)*t)/4.,((-1 + t)^2*t)/2.,-((1 - 2*t)^2*(-1 + t))/8.,0,-((-1 + t)*t^2)/2.,-((-1 + t)*t)/4.,((1 - 2*t)^2*t)/8.,0, ...
((1 - 2*t)^2*t)/8.,-((1 - 2*t)^2*(-1 + t))/8.,0,0,-((-1 + t)*t)/4.,-((-1 + t)*t^2)/2.,((1 - 2*t)^2*t)/8.,-((-1 + t)*t)/4., ...
(-sqrt(1 - t) + sqrt(1 - t)*t + t^1.5)^2/8.,(t - t^2 + 2*sqrt((1 - t)*t^3) - 2*sqrt((1 - t)*t^5))/8.,0,((-1 + t)^2*t)/2., ...
(t - t^2 + 2*sqrt((1 - t)*t^3) - 2*sqrt((1 - t)*t^5))/8.,(t*(-1 + t + sqrt((1 - t)*t))^2)/8.,0,-((1 - 2*t)^2*(-1 + t))/8.,0,0,0,0, ...
((-1 + t)^2*t)/2.,-((-1 + t)*t)/4.,-((1 - 2*t)^2*(-1 + t))/8.,-((-1 + t)*t^2)/2., ...
(t - t^2 + 2*sqrt((1 - t)*t^3) - 2*sqrt((1 - t)*t^5))/8.,(t*(-1 + t + sqrt((1 - t)*t))^2)/8.,0,-((-1 + t)*t)/4., ...
(t*(-1 + t + sqrt((1 - t)*t))^2)/8.,(sqrt(1 - t) - sqrt(1 - t)*t + t^1.5)^2/8.,0,((1 - 2*t)^2*t)/8.,0,0,0,0,-((1 - 2*t)^2*(-1 + t))/8., ...
((1 - 2*t)^2*t)/8.,0,((1 - 2*t)^2*t)/8.,0,0,0,-((1 - 2*t)^2*(-1 + t))/8.,0,0,0,0,0,0,0];
vec2 = reshape(vec,[4,4,4]);
prob = vec2(a1,a2,a3);
end

